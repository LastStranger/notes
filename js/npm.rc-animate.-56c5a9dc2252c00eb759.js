(window.webpackJsonp=window.webpackJsonp||[]).push([["npm.rc-animate"],{MFj2:function(n,e,t){"use strict";var r=t("QbLZ"),i=t.n(r),a=t("YEIV"),o=t.n(a),s=t("iCc5"),p=t.n(s),c=t("V7oC"),l=t.n(c),u=t("FYw3"),h=t.n(u),f=t("mRg0"),v=t.n(f),y=t("q1tI"),m=t.n(y),d=t("17x9"),k=t.n(d);function E(n){var e=[];return m.a.Children.forEach(n,function(n){e.push(n)}),e}function A(n,e){var t=null;return n&&n.forEach(function(n){t||n&&n.key===e&&(t=n)}),t}function L(n,e,t){var r=null;return n&&n.forEach(function(n){if(n&&n.key===e&&n.props[t]){if(r)throw new Error("two child with same key for <rc-animate> children");r=n}}),r}var b=t("i8i4"),w=t.n(b),g=t("J9Du"),P={isAppearSupported:function(n){return n.transitionName&&n.transitionAppear||n.animation.appear},isEnterSupported:function(n){return n.transitionName&&n.transitionEnter||n.animation.enter},isLeaveSupported:function(n){return n.transitionName&&n.transitionLeave||n.animation.leave},allowAppearCallback:function(n){return n.transitionAppear||n.animation.appear},allowEnterCallback:function(n){return n.transitionEnter||n.animation.enter},allowLeaveCallback:function(n){return n.transitionLeave||n.animation.leave}},T={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},C=function(n){function e(){return p()(this,e),h()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return v()(e,n),l()(e,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(n){P.isEnterSupported(this.props)?this.transition("enter",n):n()}},{key:"componentWillAppear",value:function(n){P.isAppearSupported(this.props)?this.transition("appear",n):n()}},{key:"componentWillLeave",value:function(n){P.isLeaveSupported(this.props)?this.transition("leave",n):n()}},{key:"transition",value:function(n,e){var t=this,r=w.a.findDOMNode(this),i=this.props,a=i.transitionName,o="object"==typeof a;this.stop();var s=function(){t.stopper=null,e()};if((g.b||!i.animation[n])&&a&&i[T[n]]){var p=o?a[n]:a+"-"+n,c=p+"-active";o&&a[n+"Active"]&&(c=a[n+"Active"]),this.stopper=Object(g.a)(r,{name:p,active:c},s)}else this.stopper=i.animation[n](r,s)}},{key:"stop",value:function(){var n=this.stopper;n&&(this.stopper=null,n.stop())}},{key:"render",value:function(){return this.props.children}}]),e}(m.a.Component);C.propTypes={children:k.a.any,animation:k.a.any,transitionName:k.a.any};var K=C,N="rc_animate_"+Date.now();function j(n){var e=n.children;return m.a.isValidElement(e)&&!e.key?m.a.cloneElement(e,{key:N}):e}function R(){}var x=function(n){function e(n){p()(this,e);var t=h()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return D.call(t),t.currentlyAnimatingKeys={},t.keysToEnter=[],t.keysToLeave=[],t.state={children:E(j(n))},t.childrenRefs={},t}return v()(e,n),l()(e,[{key:"componentDidMount",value:function(){var n=this,e=this.props.showProp,t=this.state.children;e&&(t=t.filter(function(n){return!!n.props[e]})),t.forEach(function(e){e&&n.performAppear(e.key)})}},{key:"componentWillReceiveProps",value:function(n){var e=this;this.nextProps=n;var t=E(j(n)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(n){e.stop(n)});var i,a,s,p,c=r.showProp,l=this.currentlyAnimatingKeys,u=r.exclusive?E(j(r)):this.state.children,h=[];c?(u.forEach(function(n){var e=n&&A(t,n.key),r=void 0;(r=e&&e.props[c]||!n.props[c]?e:m.a.cloneElement(e||n,o()({},c,!0)))&&h.push(r)}),t.forEach(function(n){n&&A(u,n.key)||h.push(n)})):(i=t,a=[],s={},p=[],u.forEach(function(n){n&&A(i,n.key)?p.length&&(s[n.key]=p,p=[]):p.push(n)}),i.forEach(function(n){n&&Object.prototype.hasOwnProperty.call(s,n.key)&&(a=a.concat(s[n.key])),a.push(n)}),h=a=a.concat(p)),this.setState({children:h}),t.forEach(function(n){var t=n&&n.key;if(!n||!l[t]){var r=n&&A(u,t);if(c){var i=n.props[c];if(r)!L(u,t,c)&&i&&e.keysToEnter.push(t);else i&&e.keysToEnter.push(t)}else r||e.keysToEnter.push(t)}}),u.forEach(function(n){var r=n&&n.key;if(!n||!l[r]){var i=n&&A(t,r);if(c){var a=n.props[c];if(i)!L(t,r,c)&&a&&e.keysToLeave.push(r);else a&&e.keysToLeave.push(r)}else i||e.keysToLeave.push(r)}})}},{key:"componentDidUpdate",value:function(){var n=this.keysToEnter;this.keysToEnter=[],n.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(n,e){var t=this.props.showProp;return t?L(n,e,t):A(n,e)}},{key:"stop",value:function(n){delete this.currentlyAnimatingKeys[n];var e=this.childrenRefs[n];e&&e.stop()}},{key:"render",value:function(){var n=this,e=this.props;this.nextProps=e;var t=this.state.children,r=null;t&&(r=t.map(function(t){if(null==t)return t;if(!t.key)throw new Error("must set key for <rc-animate> children");return m.a.createElement(K,{key:t.key,ref:function(e){n.childrenRefs[t.key]=e},animation:e.animation,transitionName:e.transitionName,transitionEnter:e.transitionEnter,transitionAppear:e.transitionAppear,transitionLeave:e.transitionLeave},t)}));var a=e.component;if(a){var o=e;return"string"==typeof a&&(o=i()({className:e.className,style:e.style},e.componentProps)),m.a.createElement(a,o,r)}return r[0]||null}}]),e}(m.a.Component);x.isAnimate=!0,x.propTypes={className:k.a.string,style:k.a.object,component:k.a.any,componentProps:k.a.object,animation:k.a.object,transitionName:k.a.oneOfType([k.a.string,k.a.object]),transitionEnter:k.a.bool,transitionAppear:k.a.bool,exclusive:k.a.bool,transitionLeave:k.a.bool,onEnd:k.a.func,onEnter:k.a.func,onLeave:k.a.func,onAppear:k.a.func,showProp:k.a.string,children:k.a.node},x.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:R,onEnter:R,onLeave:R,onAppear:R};var D=function(){var n=this;this.performEnter=function(e){n.childrenRefs[e]&&(n.currentlyAnimatingKeys[e]=!0,n.childrenRefs[e].componentWillEnter(n.handleDoneAdding.bind(n,e,"enter")))},this.performAppear=function(e){n.childrenRefs[e]&&(n.currentlyAnimatingKeys[e]=!0,n.childrenRefs[e].componentWillAppear(n.handleDoneAdding.bind(n,e,"appear")))},this.handleDoneAdding=function(e,t){var r=n.props;if(delete n.currentlyAnimatingKeys[e],!r.exclusive||r===n.nextProps){var i=E(j(r));n.isValidChildByKey(i,e)?"appear"===t?P.allowAppearCallback(r)&&(r.onAppear(e),r.onEnd(e,!0)):P.allowEnterCallback(r)&&(r.onEnter(e),r.onEnd(e,!0)):n.performLeave(e)}},this.performLeave=function(e){n.childrenRefs[e]&&(n.currentlyAnimatingKeys[e]=!0,n.childrenRefs[e].componentWillLeave(n.handleDoneLeaving.bind(n,e)))},this.handleDoneLeaving=function(e){var t=n.props;if(delete n.currentlyAnimatingKeys[e],!t.exclusive||t===n.nextProps){var r,i,a,o,s=E(j(t));if(n.isValidChildByKey(s,e))n.performEnter(e);else{var p=function(){P.allowLeaveCallback(t)&&(t.onLeave(e),t.onEnd(e,!1))};r=n.state.children,i=s,a=t.showProp,(o=r.length===i.length)&&r.forEach(function(n,e){var t=i[e];n&&t&&(n&&!t||!n&&t?o=!1:n.key!==t.key?o=!1:a&&n.props[a]!==t.props[a]&&(o=!1))}),o?p():n.setState({children:s},p)}}}};e.a=x}}]);